cmake_minimum_required(VERSION "3.16.1")

#-------------------------------------------------------------------------------
# Normal stuff
#-------------------------------------------------------------------------------

project(cpp-fun)

# Gather up all the source files
set(SOURCES
  src/Character.cpp
  src/Character.h
)

# Add the different executables as targets which depend on the source files
add_executable(tests src/test.cpp ${SOURCES})
add_executable(main src/main.cpp ${SOURCES})

#-------------------------------------------------------------------------------
# Catch 2
#-------------------------------------------------------------------------------

Include(FetchContent)

# Get Catch2 if it isn't already downloaded
FetchContent_Declare(
  Catch2
  GIT_REPOSITORY https://github.com/catchorg/Catch2.git
  GIT_TAG        v3.0.1 # or a later release
)

FetchContent_MakeAvailable(Catch2)

#-------------------------------------------------------------------------------
# SFML
#-------------------------------------------------------------------------------

find_package(SFML 2.6 COMPONENTS audio graphics window system REQUIRED)



# Link our executable to Catch2's main() function
target_link_libraries(tests PRIVATE Catch2::Catch2WithMain)

# Link SFML
target_link_libraries(main PRIVATE sfml-audio sfml-graphics sfml-window sfml-system)
